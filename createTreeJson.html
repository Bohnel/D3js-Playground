<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    function loadJSON(callback) {

    var xobj = new XMLHttpRequest();
    xobj.overrideMimeType("application/json");
    xobj.open('GET', '/data/country-by-continent.json', true);
    xobj.onreadystatechange = function() {
        if (xobj.readyState == 4 && xobj.status == "200") {

            // .open will NOT return a value but simply returns undefined in async mode so use a callback
            callback(xobj.responseText);

        }
    }
    xobj.send(null);

    }

    loadJSON(function(response) {
        jsonresponse = JSON.parse(response);
        // console.log(jsonresponse);
        createTreeNodes(jsonresponse);
        // createTree(jsonresponse);
        // console.log(createTree(jsonresponse));
    });

    function createTreeNodes(data) {
        let root = [];
        console.log(data[1].continent);
        console.log(data.length);
        for (let i = 0; i < data.length; i++) {
            if (data[i].continent === "Europe") {
                root.push(data[i].country);
            }
            
        }
    }


    // function createTree(structure) {
    //     const node = (name, parent = null) => ({name, parent, children: []});
    //     const addNode = (parent, child) => (parent.children.push(child), child);
    //     const findNamed = (name, parent) => {
    //         for (const child of parent.children) {
    //             if (child.name === name) { return child }
    //             const found = findNamed(name, child);
    //             if (found) { return found }            
    //         }
    //     }
    //     const TOP_NAME = "Top", top = node(TOP_NAME);
    //     for (const children of structure) {
    //         let par = top;
    //         for (const name of children) {
    //             const found = findNamed(name, par);
    //             par = found ? found : addNode(par, node(name, par.name));
    //         }
    //     }
    //     return top;
    // }

    </script>
</body>
</html>